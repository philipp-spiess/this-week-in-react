{"version":3,"sources":["webpack:////Users/philipp/dev/this-week-in-react/src/containers/Issue.js"],"names":["Issue","props","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","_Layout__WEBPACK_IMPORTED_MODULE_3__","react_helmet__WEBPACK_IMPORTED_MODULE_0__","concat","issue","className","dangerouslySetInnerHTML","__html","date","Date","getDate","monthNames","getMonth","getFullYear","isLatest","_reach_router__WEBPACK_IMPORTED_MODULE_1__","to","isFirst","Preview","html","height","React","createRef","Component","_this2","this","frame","ref","current","frameDocument","contentDocument","update","setState","body","offsetHeight","onload","contentWindow","onresize","open","write","close","style","state","withRouteData"],"mappings":"g/BAMA,SAASA,EAAMC,GACb,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACE,EAAA,OAAD,KACEJ,EAAAC,EAAAC,cAAA,2CAAAG,OAAsCN,EAAMO,SAE9CN,EAAAC,EAAAC,cAAA,OAAKK,UAAU,gBACbP,EAAAC,EAAAC,cAAA,OAAKK,UAAU,iBACbP,EAAAC,EAAAC,cAAA,mBAAgBH,EAAMO,OACtBN,EAAAC,EAAAC,cAAA,MACEM,wBAAyB,CACvBC,QAgEMC,EAhEa,IAAIC,KAAKZ,EAAMW,MAiE9C,GAAAL,OAAUK,EAAKE,UAAf,UAAAP,OACEQ,EAAWH,EAAKI,YADlB,UAAAT,OAESK,EAAKK,oBA/DRf,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WACfP,EAAAC,EAAAC,cAAA,YACIH,EAAMiB,UACNhB,EAAAC,EAAAC,cAACe,EAAA,KAAD,CAAMC,GAAI,YAAcnB,EAAMO,MAAQ,IAAtC,WACWP,EAAMO,MAAQ,IAIzBP,EAAMoB,SACNnB,EAAAC,EAAAC,cAACe,EAAA,KAAD,CAAMC,GAAI,YAAcnB,EAAMO,MAAQ,IAAtC,SACSP,EAAMO,MAAQ,EADvB,QAMNN,EAAAC,EAAAC,cAACkB,EAAD,CAASC,KAAMtB,EAAMsB,QA6C3B,IAAoBX,MAxCdU,gVACI,CAAEE,OAAQ,sBACZC,IAAMC,qQAFQD,IAAME,6DAGN,IAAAC,EAAAC,KACZC,EAAQD,KAAKE,IAAIC,QACjBC,EAAgBH,EAAMI,gBAEtBC,EAAS,kBACbP,EAAKQ,SAAS,CAAEZ,OAAQS,EAAcI,KAAKC,aAAe,MAE5DR,EAAMS,OAAS,WACbT,EAAMU,cAAcC,SAAW,kBAAMN,KACrCA,KAGFF,EAAcS,OACdT,EAAcU,MAAMd,KAAK5B,MAAMsB,MAC/BU,EAAcW,yCAGd,OAAO1C,EAAAC,EAAAC,cAAA,UAAQK,UAAU,UAAUsB,IAAKF,KAAKE,IAAKc,MAAOhB,KAAKiB,6CAInDC,kCAAc,SAAA9C,GAAK,OAAIC,EAAAC,EAAAC,cAACJ,EAAUC,KAEjD,IAAMc,EAAa,CACjB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA","file":"templates/src-containers-Issue.7803331e.js","sourcesContent":["import { Helmet } from \"react-helmet\";\nimport { Link } from \"@reach/router\";\nimport { withRouteData } from \"react-static\";\nimport Layout from \"./Layout\";\nimport React from \"react\";\n\nfunction Issue(props) {\n  return (\n    <Layout>\n      <Helmet>\n        <title>{`This Week in React – Issue ${props.issue}`}</title>\n      </Helmet>\n      <div className=\"right-header\">\n        <div className=\"current-issue\">\n          <h1>Issue&nbsp;{props.issue}</h1>\n          <h2\n            dangerouslySetInnerHTML={{\n              __html: formatDate(new Date(props.date))\n            }}\n          />\n        </div>\n        <div className=\"spacer\" />\n        <nav>\n          {!props.isLatest && (\n            <Link to={\"/issues/\" + (props.issue + 1)}>\n              ← Issue {props.issue + 1}\n            </Link>\n          )}\n\n          {!props.isFirst && (\n            <Link to={\"/issues/\" + (props.issue - 1)}>\n              Issue {props.issue - 1} →\n            </Link>\n          )}\n        </nav>\n      </div>\n      <Preview html={props.html} />\n    </Layout>\n  );\n}\n\nclass Preview extends React.Component {\n  state = { height: 800 };\n  ref = React.createRef();\n  componentDidMount() {\n    const frame = this.ref.current;\n    const frameDocument = frame.contentDocument;\n\n    const update = () =>\n      this.setState({ height: frameDocument.body.offsetHeight + 30 });\n\n    frame.onload = () => {\n      frame.contentWindow.onresize = () => update();\n      update();\n    };\n\n    frameDocument.open();\n    frameDocument.write(this.props.html);\n    frameDocument.close();\n  }\n  render() {\n    return <iframe className=\"preview\" ref={this.ref} style={this.state} />;\n  }\n}\n\nexport default withRouteData(props => <Issue {...props} />);\n\nconst monthNames = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\"\n];\nfunction formatDate(date) {\n  return `${date.getDate()}&nbsp;${\n    monthNames[date.getMonth()]\n  }&nbsp;${date.getFullYear()}`;\n}\n"],"sourceRoot":""}